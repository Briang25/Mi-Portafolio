<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portafolio Ciberseguridad - Brayan Garcia</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js"></script>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Monaco&display=swap');

        :root { /* ... (tus variables CSS sin cambios) ... */ }

        html { scroll-behavior: smooth; }
        body { /* ... (tus estilos de body sin cambios) ... */ }
        .container { /* ... (sin cambios) ... */ }
        header { /* ... (sin cambios) ... */ }
        header .container { /* ... (sin cambios) ... */ }
        header h1 { /* ... (sin cambios) ... */ }
        @keyframes subtle-glitch { /* ... (sin cambios) ... */ }
        header p { /* ... (sin cambios) ... */ }
        header p::after { /* ... (sin cambios) ... */ }
        @keyframes blink-cursor { /* ... (sin cambios) ... */ }
       
        section {
            padding: 60px 20px; 
            opacity: 1; max-height: 3000px; 
            overflow: hidden;
            transform: translateY(0); 
            transition: opacity 0.6s ease-out, max-height 0.7s ease-out, padding 0.6s ease-out, transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .hidden-section {
            opacity: 0; max-height: 0; 
            padding-top: 0 !important; /* Asegurar que el padding se vaya al ocultar */
            padding-bottom: 0 !important;
            transform: translateY(30px); 
            border-bottom-width: 0 !important; /* Por si alguna vez se reintroduce un borde base */
        }
        h2 { /* ... (sin cambios) ... */ }
        .section-content-capsule { /* ... (sin cambios) ... */ }
        .skill-category, .project-card, #sobre-mi img { /* ... (sin cambios) ... */ }
        #sobre-mi .section-content-capsule { /* ... (sin cambios) ... */ }
        #sobre-mi img { /* ... (sin cambios) ... */ }
        #sobre-mi img:hover { /* ... (sin cambios) ... */ }
        #sobre-mi .about-me-text p { /* ... (sin cambios) ... */ } 
        .skills-grid { /* ... (sin cambios) ... */ } 
        #habilidades .skill-category { /* ... (sin cambios) ... */ }
        #habilidades .skill-category:hover { /* ... (sin cambios) ... */ }
        #habilidades .skill-category h3 { /* ... (sin cambios) ... */ }
        #habilidades .skill-category ul { /* ... (sin cambios) ... */ }
        #habilidades .skill-category ul li { /* ... (sin cambios) ... */ }
        #habilidades .skill-category ul li:hover { /* ... (sin cambios) ... */ }
        #proyectos .section-content-capsule { /* ... (sin cambios) ... */ }
        #proyectos .project-card { /* ... (sin cambios) ... */ }
        #proyectos .project-card:hover { /* ... (sin cambios) ... */ }
        #proyectos .project-card h3 { /* ... (sin cambios) ... */ }
        .project-card p { /* ... (sin cambios) ... */ }
        .tags { /* ... (sin cambios) ... */ }
        .tag { /* ... (sin cambios) ... */ }
        #contacto .section-content-capsule p { /* ... (sin cambios) ... */ }
        .contact-links { /* ... (sin cambios) ... */ }
        .contact-links a { /* ... (sin cambios) ... */ }
        .contact-links a:hover { /* ... (sin cambios) ... */ }
        section:not(.hidden-section) h2:hover { /* ... (sin cambios) ... */ }
        @media (max-width: 768px) { /* ... (sin cambios, aunque esta detección se hará ahora también en JS) ... */ }

        #terminal-section { 
            transition: opacity 0.4s ease-out, max-height 0.5s ease-out, 
                        transform 0.4s ease-out, 
                        padding-top 0.4s ease-out, padding-bottom 0.4s ease-out,
                        margin-bottom 0.4s ease-out;
        }
        #terminal-section.terminal-collapsed {
            opacity: 0; max-height: 0 !important; 
            padding-top: 0 !important; padding-bottom: 0 !important;
            margin-bottom: 0px; overflow: hidden;
            transform: scaleY(0.85) translateY(-25px); 
            pointer-events: none;
            border-bottom-width: 0 !important;
        }
        .terminal-toggle-button { /* ... (sin cambios) ... */ }
        .terminal-toggle-button:hover { /* ... (sin cambios) ... */ }
        
        /* NUEVO: Clase para ocultar elementos específicamente en móvil/táctil por JS */
        .mobile-hidden {
            display: none !important;
        }

        #terminal-container { /* ... (sin cambios) ... */ }
        #terminal { /* ... (sin cambios) ... */ } 
        main.container > section:not(#terminal-section) { /* ... (sin cambios) ... */ }
        footer { /* ... (sin cambios) ... */ }
        footer .container-footer-content { /* ... (sin cambios) ... */ }
        footer p { /* ... (sin cambios) ... */ }
    </style>
</head>
<body>

    <header>
        <div class="container"> 
            <h1>Brayan Garcia</h1> 
            <p>| Técnico en Ciberseguridad |</p>
        </div>
    </header>

    <main class="container">
        <button id="toggleTerminalBtn" class="terminal-toggle-button">Terminal</button>

        <section id="terminal-section"> 
            <div id="terminal-container">
                <div id="terminal"></div>
            </div>
        </section>

        <section id="sobre-mi" class="hidden-section">
            <h2>Sobre Mí</h2> 
            <div class="section-content-capsule">
                <img src="https://via.placeholder.com/150" alt="Foto de Brayan Garcia"> 
                <div class="about-me-text"> 
                    <p>
                        Soy un profesional técnico en informática con formación especializada en ciberseguridad. Poseo experiencia práctica en análisis de vulnerabilidades, gestión de incidentes, monitorización de eventos y protección de sistemas. Manejo entornos Windows y Linux, y domino herramientas como Nmap, Metasploit, Burp Suite, Gobuster, Nessus, Wireshark, soluciones SIEM, entre otras. Me destaco por mi pensamiento analítico, capacidad para resolver problemas y compromiso con el aprendizaje continuo en un entorno tecnológico en constante.
                    </p>
                </div>
            </div>
        </section>
        
        <section id="habilidades" class="hidden-section">
            <h2>Competencias Técnicas</h2>
            <div class="section-content-capsule">
                <div class="skills-grid">
                     <div class="skill-category">
                        <h3>Seguridad y Operaciones</h3>
                        <ul><li>Seguridad de sistemas y redes</li><li>Monitorización de eventos y análisis de logs</li><li>Gestión de incidentes de seguridad</li><li>SIEM y correlación de eventos</li><li>Copias de seguridad y recuperación ante desastres</li></ul>
                    </div>
                    <div class="skill-category">
                        <h3>Análisis y Pentesting</h3>
                        <ul><li>Análisis de vulnerabilidades (Nmap, Nessus)</li><li>Pruebas de penetración básicas (Metasploit, Burp Suite)</li><li>Herramientas de enumeración y fuerza bruta (Gobuster, John the Ripper)</li></ul>
                    </div>
                    <div class="skill-category">
                        <h3>Sistemas y Redes</h3>
                        <ul><li>Sistemas operativos: Windows, Linux (Ubuntu Server)</li><li>Virtualización: VirtualBox, VMware</li><li>Protocolos y servicios de red: HTTP, FTP, DNS, SSH</li></ul>
                    </div>
                </div>
            </div>
        </section>

        <section id="proyectos" class="hidden-section">
            <h2>Proyectos de Ciberseguridad</h2>
            <div class="section-content-capsule">
                <div class="project-card"> 
                    <h3>Máquina Virtual Vulnerable - Proyecto CTF educativo (2025)</h3>
                    <p>Diseñada como parte del curso de seguridad informática. Se trata de una simulación de escenarios de intrusión para entrenamiento en defensa, con una estructura lineal de retos con flags encadenadas.</p>
                    <p><strong>Sistema:</strong> Ubuntu Server.</p>
                    <div class="tags">
                        <span class="tag">CTF</span> <span class="tag">Ubuntu Server</span> <span class="tag">Nmap</span>
                        <span class="tag">Gobuster</span> <span class="tag">Docker</span> <span class="tag">Metasploit</span>
                        <span class="tag">Burp Suite</span> <span class="tag">John the Ripper</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="contacto" class="hidden-section">
            <h2>Contacto</h2>
            <div class="section-content-capsule">
                <p>Estoy abierto a nuevas oportunidades y colaboraciones. Si te interesa mi perfil, no dudes en contactarme.</p>
                <div class="contact-links">
                    <a href="https://www.linkedin.com/in/brian-garcia-a43b1117b" target="_blank">LinkedIn</a> 
                    <a href="#" target="_blank">GitHub</a>
                    <a href="mailto:garcia9425@gmail.com">Email</a>
                </div>
            </div>
        </section>
    </main>

    <footer class="hidden-section" id="footer">
        <div class="container-footer-content"> 
            <p>&copy; 2025 Brayan Garcia. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const termElement = document.getElementById('terminal');
        const terminalSection = document.getElementById('terminal-section');
        const toggleTerminalBtn = document.getElementById('toggleTerminalBtn');
        const contentSectionIds = ['sobre-mi', 'habilidades', 'proyectos', 'contacto', 'footer'];
        let term; // Declarar term aquí para que sea accesible en el scope correcto

        // --- Detección de Móvil/Táctil ---
        const isTouchDevice = (('ontouchstart' in window) || (navigator.maxTouchPoints > 0));
        const isSmallScreen = window.innerWidth < 768; // Puedes ajustar este breakpoint

        if (isTouchDevice || isSmallScreen) {
            // Experiencia Móvil/Táctil: Ocultar terminal y botón, mostrar contenido
            if (terminalSection) terminalSection.classList.add('mobile-hidden');
            if (toggleTerminalBtn) toggleTerminalBtn.classList.add('mobile-hidden');

            contentSectionIds.forEach(id => {
                const section = document.getElementById(id);
                if (section && section.classList.contains('hidden-section')) {
                    section.classList.remove('hidden-section');
                    // La animación de entrada se activará al quitar la clase .hidden-section
                    // gracias a las transiciones definidas en la clase 'section'
                }
            });
        } else {
            // Experiencia de Escritorio: Inicializar y configurar la terminal interactiva
            term = new Terminal({ // Inicializar term aquí para escritorio
                cursorBlink: true, convertEol: true,
                fontFamily: `'Monaco', 'Consolas', 'Courier New', monospace`, 
                theme: {
                    background: '#1e1e1e', foreground: '#e0e0e0',
                    cursor: 'rgba(0, 170, 255, 0.5)',
                    selectionBackground: 'rgba(255, 255, 255, 0.3)',
                    brightGreen: 'var(--color-acento)', 
                    brightBlue: 'var(--color-primario-original)',
                    cyan: 'var(--color-directorio)' 
                }
            });
            term.open(termElement);

            const fileSystem = { /* ... (Tu fileSystem completo aquí) ... */ 
                '~':{type:'directory',content:{'bienvenido.txt':{type:'file',content:'Bienvenido al portafolio interactivo de Brayan Garcia.\nUsa \'help\' para ver los comandos disponibles.\nExplora el sistema de archivos con \'ls\', \'cd\' y \'cat\'.'},'documentos':{type:'directory',content:{'sobre_brayan.txt':{type:'file',content:'Información sobre Brayan Garcia:\nSoy un profesional técnico en informática con formación especializada en ciberseguridad...\n\n(Para más detalles visuales, usa el comando: about)'},'competencias_tecnicas.txt':{type:'file',content:'Resumen de Competencias Técnicas de Brayan Garcia:\n\n* Seguridad y Operaciones...\n\n(Para una vista detallada, usa el comando: skills)'}}},'proyectos_info':{type:'directory',content:{'Maquina_Virtual_Vulnerable_CTF.md':{type:'file',content:'## Proyecto: Máquina Virtual Vulnerable...\n\n(Para una vista general de proyectos, usa el comando: projects)'}}},'CV':{type:'directory',content:{'CV_Brayan_Garcia.pdf':{type:'file',content:'Curriculum Vitae de Brayan Garcia.\nPara descargar este archivo, usa el comando: download cv'}}}}}}
            };
            let currentPath = ['~']; 

            function resolvePath(pathStr) { /* ... (Tu función resolvePath completa) ... */ 
                 let newPathSegments;
                if (!pathStr || pathStr === '.' || pathStr === '') { return [...currentPath]; }
                if (pathStr.startsWith('/')) { 
                    newPathSegments = pathStr.split('/').filter(p => p.length > 0); 
                    if (newPathSegments.length === 0 || newPathSegments[0] !== '~') { newPathSegments.unshift('~'); }
                } else { 
                    newPathSegments = [...currentPath];
                    const segments = pathStr.split('/').filter(p => p.length > 0);
                    for (const segment of segments) {
                        if (segment === '..') {
                            if (newPathSegments.length > 1) newPathSegments.pop(); 
                        } else { newPathSegments.push(segment); }
                    }
                }
                return newPathSegments;
            }
            function getAtPath(pathSegments) { /* ... (Tu función getAtPath completa) ... */
                if (!pathSegments || pathSegments.length === 0) return null;
                if (pathSegments[0] !== '~' || !fileSystem['~']) return null; 
                let currentLevel = fileSystem['~']; 
                if (pathSegments.length === 1 && pathSegments[0] === '~') { return currentLevel; }
                for (let i = 1; i < pathSegments.length; i++) { 
                    const segment = pathSegments[i];
                    if (currentLevel && currentLevel.type === 'directory' && currentLevel.content && currentLevel.content[segment]) {
                        currentLevel = currentLevel.content[segment];
                    } else { return null; }
                }
                return currentLevel;
            }
            function formatPath(pathSegments) { /* ... (Tu función formatPath completa) ... */
                if (!Array.isArray(pathSegments) || pathSegments.length === 0) {
                    console.error("formatPath: pathSegments inválido:", pathSegments); 
                    return "?"; 
                }
                if (pathSegments.length === 1 && pathSegments[0] === '~') return '~';
                return pathSegments.join('/'); 
            }
            function unlockSection(sectionId) { /* ... (Tu función unlockSection completa) ... */ 
                const section = document.getElementById(sectionId);
                if (section && section.classList.contains('hidden-section')) {
                    section.classList.remove('hidden-section');
                    setTimeout(() => section.scrollIntoView({ behavior: 'smooth', block: 'start' }), 100);
                    return true;
                }
                return false;
            }
            
            // Lógica para ocultar/mostrar terminal (solo para escritorio)
            function toggleTerminalVisibility(forceHide = false) {
                const isCurrentlyCollapsed = terminalSection.classList.contains('terminal-collapsed');
                if (forceHide) { 
                    if (!isCurrentlyCollapsed) terminalSection.classList.add('terminal-collapsed');
                } else { 
                    terminalSection.classList.toggle('terminal-collapsed');
                }
                if (!terminalSection.classList.contains('terminal-collapsed') && !forceHide) { 
                    if (term && term.textarea) { 
                        setTimeout(() => {
                            term.focus();
                            if(currentLine === '' && typeof dynamicPrompt !== 'undefined') writePrompt(); 
                        }, 50); 
                    }
                }
            }

            if (toggleTerminalBtn) {
                toggleTerminalBtn.addEventListener('click', () => toggleTerminalVisibility());
            }
            document.addEventListener('keydown', (event) => {
                if (event.key === 'Escape') { 
                    event.preventDefault(); 
                    toggleTerminalVisibility();
                }
            });
            
            const comandos = { /* ... (Tu objeto comandos completo, incluyendo 'exit') ... */
                'help': { output: `\r\nIniciando protocolo de ayuda...\n\r\n\r  \x1b[1;32mComandos de Misión (Desbloqueo de Secciones):\x1b[0m\n\r  \x1b[1;34mabout\x1b[0m       - Desbloquea información personal.\n\r  \x1b[1;34mskills\x1b[0m      - Revela el arsenal de competencias técnicas.\n\r  \x1b[1;34mprojects\x1b[0m    - Expone los proyectos de ciberseguridad.\n\r  \x1b[1;34mcontact\x1b[0m     - Obtiene los canales de comunicación seguros.\n\r  \x1b[1;34mall\x1b[0m         - Desclasifica todos los archivos a la vez.\n\r\n\r  \x1b[1;32mComandos de Navegación (Sistema de Archivos):\x1b[0m\n\r  \x1b[1;34mls\x1b[0m [ruta]   - Lista archivos y directorios.\n\r  \x1b[1;34mcd\x1b[0m <directorio> - Cambia al directorio especificado.\n\r  \x1b[1;34mcat\x1b[0m <archivo>  - Muestra el contenido de un archivo.\n\r\n\r  \x1b[1;32mComandos de Sistema:\x1b[0m\n\r  \x1b[1;34mdownload cv\x1b[0m - Inicia la descarga del CV en formato PDF.\n\r  \x1b[1;34mclear\x1b[0m       - Limpia la pantalla de la terminal.\n\r  \x1b[1;34mexit\x1b[0m        - Oculta la terminal (o usa la tecla Esc).\n\r` },
                'about': { output: `\r\nAccediendo a datos personales... \x1b[1;32m[ACCESO CONCEDIDO]\x1b[0m\n\rDesbloqueando sección \'Sobre Mí\'...`, unlocks: 'sobre-mi' },
                'skills': { output: `\r\nAnalizando competencias técnicas... \x1b[1;32m[ACCESO CONCEDIDO]\x1b[0m\n\rDesbloqueando sección \'Competencias Técnicas\'...`, unlocks: 'habilidades' },
                'projects': { output: `\r\nRecuperando historial de operaciones... \x1b[1;32m[ACCESO CONCEDIDO]\x1b[0m\n\rDesbloqueando sección \'Proyectos de Ciberseguridad\'...`, unlocks: 'proyectos' },
                'contact': { output: `\r\nEstableciendo canales de comunicación... \x1b[1;32m[ACCESO CONCEDIDO]\x1b[0m\n\rDesbloqueando sección \'Contacto\'...`, unlocks: 'contacto' },
                'all': { output: `\r\nEjecutando protocolo de desclasificación total... \x1b[1;31m[ADVERTENCIA]\x1b[0m\n\rAcceso masivo concedido.`, action: () => { Object.values(comandos).forEach(cmdDef => { if(cmdDef.unlocks) unlockSection(cmdDef.unlocks); }); const allUnlocked = ['sobre-mi', 'habilidades', 'proyectos', 'contacto'].every(id => { const el = document.getElementById(id); return el && !el.classList.contains('hidden-section'); }); if(allUnlocked) { const footer = document.getElementById('footer'); if (footer && footer.classList.contains('hidden-section')) { unlockSection('footer'); } } writePrompt(); } },
                'clear': { action: () => { term.clear(); writePrompt(); } },
                'ls': { action: (args) => { const pathArg = args.length > 0 ? args.join(' ') : '.'; const targetPathSegments = resolvePath(pathArg); const targetDir = getAtPath(targetPathSegments); let output = ''; if (targetDir && targetDir.type === 'directory') { const items = Object.keys(targetDir.content); if (items.length === 0) { output = '(directorio vacío)'; }  else { items.forEach(item => { if (targetDir.content[item].type === 'directory') { output += `\x1b[1;36m${item}/\x1b[0m  `; }  else { output += `${item}  `; } }); } } else { output = `ls: no se puede acceder a '${pathArg}': No es un directorio o no existe`; } term.writeln('\r\n' + output.trim()); writePrompt(); } },
                'cd': { action: (args) => { let output; if (args.length === 0) { output = "cd: falta operando. Uso: cd <directorio>"; }  else { const targetPath = args.join(' '); const newPathSegments = resolvePath(targetPath); const targetDir = getAtPath(newPathSegments); if (targetDir && targetDir.type === 'directory') { currentPath = newPathSegments; updatePromptText();  output = `Cambiado al directorio: ${formatPath(currentPath)}`; } else { output = `cd: ${targetPath}: No es un directorio o no existe`; } } term.writeln('\r\n' + output); writePrompt(); } },
                'cat': { action: (args) => { let output; if (args.length === 0) { output = "cat: falta operando de archivo. Uso: cat <archivo>"; }  else { const filePath = args.join(' '); const targetPathSegments = resolvePath(filePath); const targetFile = getAtPath(targetPathSegments); if (targetFile && targetFile.type === 'file') { output = targetFile.content || '(archivo vacío)'; }  else if (targetFile && targetFile.type === 'directory') { output = `cat: ${filePath}: Es un directorio`; }  else { output = `cat: ${filePath}: No existe el archivo o directorio`; } } term.writeln('\r\n' + output); writePrompt(); } },
                'download': { action: (args) => { if (args.length > 0 && args[0].toLowerCase() === 'cv') { const cvFileName = 'CV_Brayan_Garcia.pdf';  term.writeln(`\r\nIniciando descarga de ${cvFileName}...`); const link = document.createElement('a'); link.href = cvFileName; link.download = cvFileName;  document.body.appendChild(link); link.click(); document.body.removeChild(link); setTimeout(() => { term.write('\r\nSi la descarga no comenzó, verifica que el archivo CV esté en la misma carpeta que index.html.'); }, 1500);  } else { term.writeln('\r\nUso: download cv'); } setTimeout(writePrompt, 1600); } },
                'exit': { action: () => { term.writeln('\r\nCerrando terminal...'); toggleTerminalVisibility(true); } }
             };

            let currentLine = '';
            let dynamicPrompt = `\r\n\x1b[1;32mvisitor@Brayan_Garcia-portfolio\x1b[0m:\x1b[1;34m${formatPath(currentPath)}$\x1b[0m `;
            
            function updatePromptText() {
                dynamicPrompt = `\r\n\x1b[1;32mvisitor@Brayan_Garcia-portfolio\x1b[0m:\x1b[1;34m${formatPath(currentPath)}$\x1b[0m `;
            }

            function writePrompt() {
                if (terminalSection && !terminalSection.classList.contains('terminal-collapsed')) {
                    currentLine = ''; 
                    term.write(dynamicPrompt);
                    setTimeout(() => {
                        if (term && term.textarea && !terminalSection.classList.contains('terminal-collapsed')) {
                            term.focus(); 
                            term.scrollToBottom(); 
                        }
                    }, 0);
                }
            }
            
            term.writeln('\x1b[1;32mBienvenido al Portafolio Interactivo de Brayan Garcia.\x1b[0m');
            term.writeln('Sistema iniciado. Esperando comandos...');
            term.writeln('Puedes ocultar/mostrar esta terminal con la tecla \x1b[1;33mEsc\x1b[0m, el botón, o el comando \x1b[1;33mexit\x1b[0m.');
            writePrompt();

            term.onKey(({ key, domEvent }) => {
                if (terminalSection && terminalSection.classList.contains('terminal-collapsed')) {
                    return; 
                }

                const printable = !domEvent.altKey && !domEvent.ctrlKey && !domEvent.metaKey;

                if (domEvent.keyCode === 13) { // Enter
                    const trimmedLine = currentLine.trim(); 
                    const [commandName, ...args] = trimmedLine.split(/\s+/).filter(s => s.length > 0);
                    currentLine = ''; 

                    if (commandName) {
                        const commandExecutor = comandos[commandName.toLowerCase()];
                        if (commandExecutor) {
                            if (commandExecutor.output && commandName.toLowerCase() !== 'exit' && !(commandExecutor.action && ['all', 'clear', 'ls', 'cd', 'cat', 'download'].includes(commandName.toLowerCase()) )) { 
                                 term.writeln(commandExecutor.output);
                            } else if (commandExecutor.output && commandExecutor.action && commandName.toLowerCase() !== 'exit' && !['all', 'clear', 'ls', 'cd', 'cat', 'download'].includes(commandName.toLowerCase())) {
                                 term.writeln(commandExecutor.output); 
                            }

                            if (commandExecutor.action) { 
                                commandExecutor.action(args); 
                            } else if (commandExecutor.output) { 
                                if(commandExecutor.unlocks) {
                                    const unlocked = unlockSection(commandExecutor.unlocks);
                                    if (!unlocked && document.getElementById(commandExecutor.unlocks) && 
                                        !document.getElementById(commandExecutor.unlocks).classList.contains('hidden-section')) {
                                        term.writeln(`\n\rLa sección '\x1b[1;34m${commandExecutor.unlocks}\x1b[0m' ya estaba visible.`);
                                    }
                                }
                                const footer = document.getElementById('footer'); 
                                if (footer && footer.classList.contains('hidden-section')) {
                                    const allMainSectionsUnlocked = ['sobre-mi', 'habilidades', 'proyectos', 'contacto'].every(id => {
                                        const el = document.getElementById(id);
                                        return el && !el.classList.contains('hidden-section');
                                    });
                                    if (allMainSectionsUnlocked) {
                                        unlockSection('footer');
                                    }
                                }
                                writePrompt(); 
                            }
                        } else {
                            term.writeln(`\r\n\x1b[1;31mError:\x1b[0m Comando no reconocido: '${commandName}'.\n\rEscribe '\x1b[1;34mhelp\x1b[0m' para ver la lista de comandos válidos.`);
                            writePrompt();
                        }
                    } else { 
                        writePrompt(); 
                    }
                } else if (domEvent.keyCode === 8) { 
                    if (currentLine.length > 0) { term.write('\b \b'); currentLine = currentLine.slice(0, -1); }
                } else if (printable && key.length === 1) { term.write(key); currentLine += key; }
            });
        } // Fin de la condición 'else' para escritorio
    });
    </script>
</body>
</html>
